<!DOCTYPE html>
<!--
  Any copyright is dedicated to the Public Domain.
  http://creativecommons.org/publicdomain/zero/1.0/
-->
<html>
  <head>
    <meta charset="utf-8">
    <title>Calendar</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="lib/fullcalendar.min.css">
    <link rel="stylesheet" href="calendarview.css">
    <script src="lib/jquery-3.1.0.min.js"></script>
    <script src="lib/moment.min.js"></script>
    <script src="lib/fullcalendar.min.js"></script>
    <script src="lib/ical.min.js"></script>
    <script src="lib/localforage.min.js"></script>
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="lib/babel.min.js"></script>
    <!-- This sucks but I really like arrow functions -->
    <script>
      // Test for arrow function support.
      var scripts = ['icalsource.js', 'gcal.js', 'calendarview.js'];
      var arrow_support;
      try {
        new Function('() => true');
        arrow_support = true;
      } catch(e) {
        arrow_support = false;
      }
      function add_script(script, type) {
        var s = document.createElement('script');
        s.src = script;
        if (type) {
          s.type = type;
        }
        document.head.appendChild(s);
      }
      for (var i = 0; i < scripts.length; i++) {
        add_script(scripts[i], arrow_support ? '' : 'text/babel');
      }
    </script>
  </head>
  <body>
    <div id="authorize-div" style="display: none">
      <span>Authorize access to Google Calendar API</span>
      <button id="authorize-button">
        Authorize
      </button>
    </div>
    <div id="calendar"></div>
  </body>
</html>
